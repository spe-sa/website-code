<!-- This is the PARALLAX template. -->
{% for item in items %}

<style>

    .wrap{{ instance.id }}{
        width: 100%;
        margin: 0 auto;
        position: relative;
    }

    .art-header{{ instance.id }} {
        width: 100%;
        {% if instance.pluginheight %}height: {{ instance.pluginheight }}px;{% else %}height: 600px;{% endif %}
        background: url('{{ item.get_image_url }}') no-repeat fixed;
        background-size: cover;
    }
    .art-header-nopara{{ instance.id }} {
        width: 100%;
        {% if instance.pluginheight %}height: {{ instance.pluginheight }}px;{% else %}height: 600px;{% endif %}
        background: url('{{ item.get_image_url }}') no-repeat center center;
        background-size: cover;
    }

    .art-inner{{ instance.id }}{
        width: 100%;
        position: absolute;
        bottom: 0;
        padding:30px;
        color: white;
        text-align: center;
        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjRDRjNENDRFMTczMTFFNUJFNkU5MUM4MjdCMDRGOUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjRDRjNENDVFMTczMTFFNUJFNkU5MUM4MjdCMDRGOUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFMUM1RTY3RkUxNzMxMUU1QkU2RTkxQzgyN0IwNEY5QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFMUM1RTY4MEUxNzMxMUU1QkU2RTkxQzgyN0IwNEY5QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Psa28LUAAAAbSURBVHjaYmRgYNjMQARgYiASjCqkjkKAAAMALY8Ax0pN8ckAAAAASUVORK5CYII=);
    }

    .art-title{{ instance.id }}{
        font-size: 4em;
    }

</style>
<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {

        /* Global Variables */
        var $header = $('.art-header{{ instance.id }}');
        var $artInner = $('.art-inner{{ instance.id }}');
        var $wrap = $('.wrap{{ instance.id }}');
        var scrollTop = $(window).scrollTop();
        var scrollTopWrap = $wrap.offset().top;
        var imgTop = scrollTop - scrollTopWrap;

        $header.css({
            'background-position' : 'center ' + (-imgTop/6)+"px"
        });

        $(window).scroll(function(){
            scrollTop = $(window).scrollTop();
            scrollTopWrap = $wrap.offset().top;
            imgTop = scrollTop - scrollTopWrap;

{#            $('.art-title{{ instance.id }}').text(imgTop);#}

            $header.css({
                'background-position' : 'center ' + (-imgTop/6)+"px"
            });

            $artInner.css({
                'margin-top' : imgTop/ 2 + 'px'
            });

        });
    });
</script>

<div class="hidden-xs hidden-sm wrap{{ instance.id }}">

    <header class="art-header{{ instance.id }}">
        {% if item.showtitle %}
            <div class="art-inner{{ instance.id }}">
                <h1 class="art-title{{ instance.id }}">{{ item.title }}</h1>
            </div>
        {% endif %}
    </header>

</div>

<div class="visible-xs visible-sm wrap{{ instance.id }}">

    <div class="art-header-nopara{{ instance.id }}">
        {% if item.showtitle %}
            <div class="art-inner{{ instance.id }}">
                <h1 class="art-title{{ instance.id }}">{{ item.title }}</h1>
            </div>
        {% endif %}
    </div>

</div>

{% endfor %}





